I"Ê^<p><br />
<span style="font-weight:bold; font-size:3em; font-family: Georgia;">F</span>lutterì—ë„ Androidì˜ <span style="color:#fc054f; ">Collapse Toolbar Layout</span>ê³¼ ë¹„ìŠ·í•œ ê¸°ëŠ¥ì„ í•˜ëŠ” ìœ„ì ¯ì´ ìˆë‹¤. <span style="color:#fc054f; ">Silver App Bar</span>ê°€ ë˜ì‹œê² ë‹¤.
ì•ˆë“œë¡œì´ë“œì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">wrap_content</code>ë¡œ ë ˆì´ì•„ì›ƒì˜ <code class="language-plaintext highlighter-rouge">weight</code>, <code class="language-plaintext highlighter-rouge">height</code>ì„ ì£¼ë©´ ê·¸ ì‚¬ì´ì¦ˆë§Œí¼ ìœ ë™ì ìœ¼ë¡œ ëŠ˜ì–´ë‚˜ê±°ë‚˜ ì¤„ì–´ë“ ë‹¤.<br /><br />
ì•ˆë“œë¡œì´ë“œì—ì„œ <span style="color:#fc054f; ">Collapse Toolbar Layout</span>ì„ ì“°ë©´ ì´ë ‡ë‹¤. (ì•ˆë“œë¡œì´ë“œê°€ ì£¼ê°€ ì•„ë‹ˆë‹ˆ xmlì˜ ì•ê³¼ ë’¤ ìƒëµ)</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;com.google.android.material.appbar.SubtitleCollapsingToolbarLayout</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
    <span class="na">android:fitsSystemWindows=</span><span class="s">"true"</span>
    <span class="na">app:layout_scrollFlags=</span><span class="s">"scroll|exitUntilCollapsed"</span>
    <span class="na">app:contentScrim=</span><span class="s">"@color/colorPrimary"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;FrameLayout</span>
        <span class="na">android:fitsSystemWindows=</span><span class="s">"true"</span>
        <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span><span class="nt">&gt;</span>

        <span class="nt">&lt;androidx.appcompat.widget.AppCompatImageView</span>
            <span class="na">android:fitsSystemWindows=</span><span class="s">"true"</span>
            <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
            <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
            <span class="na">android:scaleType=</span><span class="s">"centerCrop"</span><span class="nt">/&gt;</span>

        <span class="nt">&lt;androidx.appcompat.widget.LinearLayoutCompat</span>
            <span class="na">android:paddingTop=</span><span class="s">"?attr/actionBarSize"</span>
            <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
            <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
            <span class="na">android:orientation=</span><span class="s">"vertical"</span><span class="nt">&gt;</span>

            <span class="nt">&lt;com.google.android.material.textview.MaterialTextView</span>
                <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span><span class="nt">/&gt;</span>

            <span class="nt">&lt;com.google.android.material.textview.MaterialTextView</span>
                <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span><span class="nt">/&gt;</span>

        <span class="nt">&lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;</span>

    <span class="nt">&lt;/FrameLayout&gt;</span>

    <span class="nt">&lt;androidx.appcompat.widget.Toolbar</span>
        <span class="na">android:id=</span><span class="s">"@+id/tb_header"</span>
        <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
        <span class="na">android:layout_height=</span><span class="s">"?attr/actionBarSize"</span>
        <span class="na">app:layout_collapseMode=</span><span class="s">"pin"</span>
        <span class="na">android:background=</span><span class="s">"@android:color/transparent"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/com.google.android.material.appbar.SubtitleCollapsingToolbarLayout&gt;</span>
</code></pre></div></div>

<p><span style="color:#fc054f">Collapsed - Expanded</span> ìƒíƒœë¥¼ ì™”ë‹¤ê°”ë‹¤í•˜ëŠ” <code class="language-plaintext highlighter-rouge">Collapsing Toolbar</code>ì˜ ë’· ë°°ê²½ í™”ë©´ì„ ì´ë¯¸ì§€ ë·°ë¡œ ê¹”ê³ ,
ê·¸ <span style="color:#fc054f">Expanded</span> ìƒíƒœì˜ íˆ´ë°” background ìœ„ì— íŠ¹ì • ë°ì´í„°ë¥¼ ë¿Œë ¤ì£¼ëŠ” ê²ƒì´ ëª©ì ì´ì—ˆë‹¤. ìœ„ ì‚¬ë¡€ì—ì„œëŠ” í…ìŠ¤íŠ¸ ë·°ë¥¼ <code class="language-plaintext highlighter-rouge">LinearLayout</code>ì— ë”°ë¼ <code class="language-plaintext highlighter-rouge">Column</code>ìœ¼ë¡œ ë°°ì¹˜í•œ ê²ƒì´ë‹¤(ì„¸ë¡œ ë°©í–¥).<br /><br />
ì´ ë•Œ í…ìŠ¤íŠ¸ ë·°ì— ë°”ì¸ë”©ë˜ëŠ” ë°ì´í„°ê°€ ê¸¸ìˆ˜ë„ ìˆê³  ì§§ì„ ìˆ˜ë„ ìˆë‹¤. ì•ˆë“œë¡œì´ë“œ xmlì—ì„œëŠ” ì´ëŸ° ë ˆì´ì•„ì›ƒì— <strong>ë¶€ëª¨ ë ˆì´ì•„ì›ƒ</strong>(í…ìŠ¤íŠ¸ ë·°ë“¤ì„ ê°ì‹¸ê³  ìˆëŠ” ìµœìƒë‹¨ ë ˆì´ì•„ì›ƒ)ì˜ ë†’ì´ë¥¼ <code class="language-plaintext highlighter-rouge">layout_height="wrap_content"</code>ë¡œ ì£¼ë©´ <strong>ìì‹ ë ˆì´ì•„ì›ƒì˜ ë†’ì´</strong>ì— ë”°ë¼ <strong>ë¶€ëª¨ ë ˆì´ì•„ì›ƒì˜ ë†’ì´</strong>ê°€ ì •í•´ì§„ë‹¤. ì–´ë–¤ ë°ì´í„°ë¥¼ í…ìŠ¤íŠ¸ ë·°ì— ë¿Œë ¤ì£¼ëŠëƒì˜ ì—¬ë¶€ì— ê´€ê³„ì—†ì´ ê¹”ë”í•˜ê²Œ ë ˆì´ì•„ì›ƒ ì‚¬ì´ì¦ˆë¥¼ ë™ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤. <br /><br />
ê·¸ë˜ì„œ ë‹¹ì—°íˆ Flutterì˜ <span style="color:#fc054f;">SilverAppBar</span>ì—ì„œë„ <strong>ìì‹ ìœ„ì ¯ì˜ ë†’ì´ì— ë”°ë¥¸ ë¶€ëª¨ ìœ„ì ¯ì˜ ìœ ë™ì ì¸ ë†’ì´ ì²˜ë¦¬</strong>ê°€ ê°€ëŠ¥í•  ì¤„ ì•Œì•˜ë‹¤. ì´ë²ˆ ê²°ê³¼ë¬¼ì€ <del>í¸ë²•</del>ìœ¼ë¡œ ë³´ì¼ìˆ˜ë„ ìˆì§€ë§Œ, ì¼ë‹¨ ì›í•˜ëŠ”ëŒ€ë¡œ ë‚˜ì˜¤ê¸´ í–ˆìœ¼ë‹ˆ <strong>#ì„±ê³µì â€¦</strong>ì´ë‹¤. ê·¸ëŸ¬ë‚˜ ë¶ˆí•„ìš”í•œ ë¹„ìš©ì´ ë“¤ì–´ê°€ëŠ” ë°©ë²•ì´ë‹¤.<br /><br />
ì°¸ê³ ë¡œ Flutter ì˜¤í”ˆ ì¹´í†¡ë°©ì— ë¬¸ì˜í•´ ë´¤ê³ , ëª¨ê°œë°œìë¶„ì´ <code class="language-plaintext highlighter-rouge">ScrollController</code>ì˜ <code class="language-plaintext highlighter-rouge">offset</code>ì„ ì´ìš©í•´ì„œ ì²˜ë¦¬í•˜ë¼ê³  ì¡°ì–¸í•´ ì£¼ì…¨ë‹¤. ê·¸ ë°©ë²•ìœ¼ë¡œë„ ê°•êµ¬í•´ë´¤ìœ¼ë‚˜ í•´ê²°í•˜ì§€ ëª»í–ˆë‹¤. Â  Â   <em>ğŸ‘‰ <code class="language-plaintext highlighter-rouge">Offset</code> ê°’ì„ ì´ìš©í•˜ì—¬ í•´ê²°í•˜ì‹  ë¶„ ìˆìœ¼ì‹œë©´ ì•Œë ¤ì£¼ì„¸ìš” ã… ã… </em><br /><br /></p>

<h3 id="ë¨¼ì €-ê²°ê³¼ë¬¼">ë¨¼ì € ê²°ê³¼ë¬¼</h3>

<p align="middle"><iframe width="560" height="315" src="https://www.youtube.com/embed/OBqLJaCQUCA" frameborder="0" allowfullscreen=""></iframe></p>

<p><span style="color:#fc054f;">Silver App Bar</span> ìœ„ì ¯ì€ <code class="language-plaintext highlighter-rouge">expandedHeight: [int value]</code>íŒŒë¼ë¯¸í„°ë¥¼ <strong>ì´ˆê¸°í™”</strong> í•´ ì£¼ì–´ì•¼, App Barê°€ <code class="language-plaintext highlighter-rouge">Expanded</code>ì¼ ë•Œ ì„¤ì •í•´ ì¤€ ë†’ì´ê°’ë§Œí¼ í¼ì³ì§„ë‹¤. ì´ê±¸ ì„¤ì •í•´ì£¼ì§€ ì•Šìœ¼ë©´ App Barê°€ í¼ì³ì§€ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ¬ë‚˜ ë‚´ê°€ ì›í–ˆë˜ ê±´ ì´ˆê¸°ë¶€í„° ì„¤ì •ëœ <em>static</em>í•œ ë†’ì´ê°€ ì•„ë‹ˆë¼ <span style="color:#fc054f;">Silver App Bar</span>ì˜ ìì‹ìœ„ì ¯ì¸ <code class="language-plaintext highlighter-rouge">FlexibleSpaceBar</code>ì˜ ë†’ì´ì— ë”°ë¼ ìœ ë™ì ìœ¼ë¡œ ë³€í•˜ëŠ” ë†’ì´ì˜€ë‹¤. <span style="color:#fc054f;">Silver App Bar</span>ëŠ” ìì‹ ìœ„ì ¯ì´ ê·¸ë ¤ì§€ê¸° ì „ì— ë¨¼ì € ê·¸ë ¤ì§€ê¸° ë•Œë¬¸ì— ìì‹ ìœ„ì ¯(ì—¬ê¸°ì„œëŠ” <code class="language-plaintext highlighter-rouge">FlexibleSpaceBar</code>)ì˜ í¬ê¸°ê°€ ì–¼ë§ˆê°€ ë ì§€ ë¯¸ë¦¬ ê³„ì‚°í•´ì„œ <code class="language-plaintext highlighter-rouge">expandedHeight</code>ê°’ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ì—†ë‹¤. <code class="language-plaintext highlighter-rouge">FlexibleSpaceBar</code> ìœ„ì ¯ ì•ˆì— ì†í•˜ëŠ” <strong>ìì‹ ìœ„ì ¯ì˜ ë†’ì´ë¥¼ ë¯¸ë¦¬ ì•Œ ìˆ˜ ìˆëŠ” ë°©ë²•</strong>ì´ ì—†ì„ê¹Œ? ê³ ë¯¼í•˜ë‹¤ê°€ ì°¾ì•„ë‚¸ ë°©ë²•ì´ ë°”ë¡œ <strong>ì „ì²´í™”ë©´ì„ <code class="language-plaintext highlighter-rouge">Stack</code>ìœ¼ë¡œ ë†“ê³ , ì²« ë²ˆì§¸ ìŠ¤íƒì— <code class="language-plaintext highlighter-rouge">FlexibleSpaceBar</code> ë‚´ë¶€ì— ì†í•˜ëŠ” ìœ„ì ¯ì„ ë¨¼ì € í• ë‹¹í•˜ëŠ” ê²ƒ</strong>ì´ë‹¤. <code class="language-plaintext highlighter-rouge">Stack</code>ì˜ ì²« ë²ˆì§¸ ìì‹ ìœ„ì ¯ ë Œë”ë§ì´ ì™„ë£Œë˜ë©´, ê·¸ ë‹¤ìŒ ìœ„ì ¯ì˜ ë Œë”ë§ì´ ì‹¤í–‰ë  ê²ƒì¸ë° ì´ ë•Œ ì´ë¯¸ ìš°ë¦¬ëŠ” ì²« ë²ˆì§¸ ìì‹ ìœ„ì ¯ì˜ í¬ê¸°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë‘ ë²ˆì§¸ ìì‹ ìœ„ì ¯ìœ¼ë¡œëŠ” ì›ë˜ í™”ë©´ì— ë„ì›Œì ¸ì•¼ í•  <span style="color:#fc054f;">Silver App Bar</span>ê°€ í¬í•¨ëœ ìœ„ì ¯ì„ ë°°ì¹˜ì‹œí‚¨ë‹¤. <br /><br />
<code class="language-plaintext highlighter-rouge">Stack</code>ì— í• ë‹¹ëœ ì²« ë²ˆì§¸ ìì‹ ìœ„ì ¯ì€ <code class="language-plaintext highlighter-rouge">Container</code>ì˜ ë†’ì´ë§Œ êµ¬í•˜ë©´ í•„ìš”ì—†ëŠ” ë…€ì„ì´ë¯€ë¡œ <code class="language-plaintext highlighter-rouge">Visiblity</code> í˜¹ì€ <code class="language-plaintext highlighter-rouge">OffStage</code>ë¡œ ê°ì‹¼ë‹¤. <code class="language-plaintext highlighter-rouge">bool _isVisible</code>ê³¼ ê°™ì€ ë³€ìˆ˜ë¡œ <span style="color:#fc054f">flag</span>ë¥¼ í•˜ë‚˜ ì„ ì–¸í•˜ì—¬ ë†’ì´ë¥¼ êµ¬í•˜ê¸° ì „ì—ëŠ” <em>true</em>, ë†’ì´ë¥¼ êµ¬í•œ ì´í›„ëŠ” <code class="language-plaintext highlighter-rouge">Stack</code>ì˜ ë‘ ë²ˆì§¸ ìì‹ ìœ„ì ¯ì´ ë Œë”ë§ ëœ í›„ì—ë„ ê³„ì† ë°‘ì— ìŒ“ì—¬ì„œ ë³´ì´ë©´ ì•ˆë˜ë¯€ë¡œ <em>false</em>ë¡œ ìƒíƒœê°’ì„ ë³€ê²½í•˜ì—¬ ì‚¬ë¼ì§€ê²Œ í•œë‹¤. ë¬¼ë¡  ì¤‘ë³µë˜ëŠ” <code class="language-plaintext highlighter-rouge">Container</code>ë¥¼ ë Œë”ë§í–ˆë‹¤ ì‚¬ë¼ì§€ê²Œ í–ˆë‹¤ í•˜ëŠ” ì‹ìœ¼ë¡œ ë†’ì´ ê³„ì‚°ì„ í•˜ê¸° ë•Œë¬¸ì— ì“¸ë°ì—†ëŠ” ë¹„ìš©ì´ ë“¤ì–´ê°ˆ ê²ƒì´ë‹¤.</p>
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="o">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>

    <span class="k">return</span> <span class="n">Stack</span><span class="o">(</span>
      <span class="nl">overflow:</span> <span class="n">Overflow</span><span class="o">.</span><span class="na">visible</span><span class="o">,</span>
      <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
          <span class="n">Visibility</span><span class="o">(</span>
              <span class="nl">visible:</span> <span class="n">_isVisible</span><span class="o">;</span> <span class="c1">// Containerì˜ ë†’ì´ ì´ í•©ì„ êµ¬í–ˆìœ¼ë©´ falseë¡œ ê°’ì„ ë°”ê¿” ìœ„ì ¯ì´ ë³´ì´ì§€ ì•Šê²Œ í•´ì•¼í•œë‹¤.</span>
              <span class="nl">child:</span> <span class="n">Material</span><span class="o">(</span>
                  <span class="nl">child:</span> <span class="n">Container</span><span class="o">(...),</span> 
                  <span class="cm">/* flexibleSpace ë‚´ë¶€ ìœ„ì ¯ì„ í• ë‹¹í•´ì„œ SilverAppBarê°€ ë Œë”ë§ ë˜ê¸° ì „ì— 
                  ë¯¸ë¦¬ ë†’ì´ì˜ ì´ í•©ì„ êµ¬í•˜ë ¤ í•œë‹¤. 
                  (Containerì˜ ë†’ì´ê°’ì„ expandedHeightì— í• ë‹¹í•˜ê¸° ìœ„í•¨) */</span>
              <span class="o">)</span>
          <span class="o">)</span>
          <span class="o">),</span>
          <span class="n">SafeArea</span><span class="o">(</span>
              <span class="nl">child:</span> <span class="n">Material</span><span class="o">(</span>
                  <span class="nl">child:</span> <span class="n">CustomScrollView</span><span class="o">(</span>
                      <span class="nl">silvers:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
                          <span class="n">SilverAppBar</span><span class="o">(</span>
                              <span class="nl">expandedHeight:</span> <span class="o">[</span><span class="kt">int</span> <span class="n">value</span><span class="o">],</span>
                              <span class="nl">flexibleSpace:</span> <span class="n">FlexibleSpaceBar</span><span class="o">(</span>
                                  <span class="n">Container</span><span class="o">(...),</span> <span class="c1">// ì´ Containerë¥¼ Stackì˜ ì²« ìì‹ ìœ„ì ¯ì— í• ë‹¹í•œë‹¤.</span>
                              <span class="o">)</span>
                          <span class="o">),</span> <span class="c1">// </span>
                          <span class="n">SilverFillRemaining</span><span class="o">(...),</span>
                      <span class="o">]</span>
                  <span class="o">),</span>
          <span class="o">),</span>
        <span class="o">],</span>
    <span class="o">);</span>
  <span class="o">}</span>
</code></pre></div></div>

<h3 id="ì••ê¶Œì˜-í¸ë²•">ì••ê¶Œì˜ í¸ë²•</h3>
<p>ê·¸ë ‡ë‹¤ë©´ ì–´ë–¤ ì‹ìœ¼ë¡œ ë†’ì´ë¥¼ ê³„ì‚°í•˜ëŠ”ê°€? ë…ìë“¤ì€ ë‹¹í˜¹ìŠ¤ëŸ½ê² ì§€ë§Œ <code class="language-plaintext highlighter-rouge">GlobalKey</code>ë¥¼ ì´ìš©í•˜ì˜€ë‹¤. ê·¸ê²ƒë„ ë¬´ë ¤ 3ê°œë‚˜ ì„ ì–¸í•˜ì˜€ë‹¤. ì•„ë§ˆì¶”ì–´í‹±í•˜ê²Œ <code class="language-plaintext highlighter-rouge">Container &gt; Column</code> ì— ì†í•˜ëŠ” Text ìì‹ ìœ„ì ¯ì˜ í¬ê¸°ë¥¼ ê°ê° êµ¬í•˜ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">final stickyKey = GlobalKey()</code> ì´ëŸ° ì‹ìœ¼ë¡œ ê°ì²´ 3ê°œë¥¼ ìƒì„±í•˜ì˜€ë‹¤.<br /><br /></p>
<blockquote>
  <p><span style="font-size: 2em; font-weight: bold">Why?</span><br />
Â  Â    Containerë‚˜ Column ì „ì²´ì— GlobalKeyë¥¼ í•˜ë‚˜ ì„ ì–¸í•˜ê²Œ ë  ê²½ìš° ì „ì²´ ìŠ¤í¬ë¦° ë†’ì´(double.infinity)ë¥¼ returní•œë‹¤. ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œëŠ” Columnì— ì„ ì–¸ëœ ìì‹ ìœ„ì ¯ ë³„ë¡œ GlobalKeyë¥¼ ê°ê° í•˜ë‚˜ì”© ë¶€ì—¬í•  ìˆ˜ë°–ì— ì—†ì—ˆë‹¤.</p>
</blockquote>

<p>ì—¬ê¸°ì„œ ê°ê° returnëœ <code class="language-plaintext highlighter-rouge">stickyKey 1,2,3</code>ë¥¼ ë”í•˜ê³  <code class="language-plaintext highlighter-rouge">Container</code> ì „ì²´ì— ì¤€ <code class="language-plaintext highlighter-rouge">padding</code> í˜¹ì€ <code class="language-plaintext highlighter-rouge">margin</code>ì„ ëª¨ë‘ ë”í•˜ë©´ <strong>ë°ì´í„°ì˜ ë³€í™”ì— ë”°ë¼ ìœ ë™ì ìœ¼ë¡œ ë°”ë€ŒëŠ” ë†’ì´</strong>ë¥¼ êµ¬í•  ìˆ˜ ìˆë‹¤. ì´ ë†’ì´ë¥¼ ì „ì—­ë³€ìˆ˜ë¡œ ì§€ì •í•œ í›„ <code class="language-plaintext highlighter-rouge">Stack</code>ì˜ ë‘ ë²ˆì§¸ ìœ„ì ¯ì—ì„œ <span style="color:#fc054f;">Silver App Bar</span>ì˜ <code class="language-plaintext highlighter-rouge">expandedHeight</code> ê°’ìœ¼ë¡œ ë„˜ê²¨ì£¼ë©´ ëœë‹¤.<br /></p>
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">GlobalKey</span> <span class="n">stickyKey</span> <span class="o">=</span> <span class="n">GlobalKey</span><span class="o">();</span>
<span class="n">GlobalKey</span> <span class="n">stickyKey2</span> <span class="o">=</span> <span class="n">GlobalKey</span><span class="o">();</span>
<span class="n">GlobalKey</span> <span class="n">stickyKey3</span> <span class="o">=</span> <span class="n">GlobalKey</span><span class="o">();</span>
</code></pre></div></div>

<p>ì•ì—ì„œ ì–¸ê¸‰í•œ Container ìœ„ì ¯ì€ ì´ë ‡ê²Œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.</p>
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Container</span><span class="o">(</span>
      <span class="nl">padding:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">only</span><span class="o">(</span>
          <span class="nl">left:</span> <span class="n">Dimens</span><span class="o">.</span><span class="na">gap_dp20</span><span class="o">,</span>
          <span class="nl">bottom:</span> <span class="n">Dimens</span><span class="o">.</span><span class="na">gap_dp20</span><span class="o">,</span>
          <span class="nl">top:</span> <span class="n">kToolbarHeight</span><span class="o">),</span>
      <span class="nl">child:</span> <span class="n">Column</span><span class="o">(</span>
        <span class="nl">crossAxisAlignment:</span> <span class="n">CrossAxisAlignment</span><span class="o">.</span><span class="na">start</span><span class="o">,</span>
        <span class="nl">children:</span> <span class="o">&lt;</span><span class="n">Widget</span><span class="o">&gt;[</span>
          <span class="n">Text</span><span class="o">(</span>
            <span class="s">'ë‚˜ëŠ” ì •ë§ ê¸¸ë‹¤ ë‚˜ëŠ” ë‘ ì¤„ë„ ë  ìˆ˜ ìˆë‹¤ ë‚˜ëŠ” ì •ë§ ê¸¸ë‹¤ ìœ ë™ì ì¸ ê¸¸ì´ë¥¼ ë³´ì—¬ì£¼ëŠ” ì˜ˆì‹œì´ë‹¤ ì•„ì•„ì•„'</span><span class="o">,</span>
            <span class="nl">key:</span> <span class="n">stickyKey</span><span class="o">,</span> <span class="c1">// ë†’ì´ 1</span>
            <span class="nl">style:</span> <span class="n">TextStyle</span><span class="o">(</span>
                <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="o">,</span> 
                <span class="nl">fontSize:</span> <span class="n">Dimens</span><span class="o">.</span><span class="na">font_sp14</span><span class="o">),</span>
          <span class="o">),</span>
          <span class="n">Text</span><span class="o">(</span>
              <span class="s">'ê¸¸ë‹¤ ê¸¸ë‹¤ ê¸¸ë‹¤ ì§§ì„ìˆ˜ë„ ìˆë‹¤ ë„ˆê°€ ì–´ë–¤ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠëƒì— ë”°ë¼ ë†’ì´ê°€ ë‹¬ë¼ì ¸ì•¼ í•œë‹¤'</span><span class="o">,</span>
              <span class="nl">key:</span> <span class="n">stickyKey2</span><span class="o">,</span> <span class="c1">// ë†’ì´ 2</span>
              <span class="nl">style:</span> <span class="n">TextStyle</span><span class="o">(</span>
                  <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="o">,</span>
                  <span class="nl">fontSize:</span> <span class="n">Dimens</span><span class="o">.</span><span class="na">font_sp30</span><span class="o">,</span>
                  <span class="nl">letterSpacing:</span> <span class="o">-</span><span class="mf">0.4</span><span class="o">)),</span>
          <span class="n">Text</span><span class="o">(</span>
              <span class="s">'ë…¸ì¼'</span><span class="o">,</span>
              <span class="nl">key:</span> <span class="n">stickyKey3</span><span class="o">,</span> <span class="c1">// ë†’ì´ 3</span>
              <span class="nl">style:</span> <span class="n">TextStyle</span><span class="o">(</span>
                  <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="o">,</span> 
                  <span class="nl">fontSize:</span> <span class="n">Dimens</span><span class="o">.</span><span class="na">font_sp14</span><span class="o">)),</span>
        <span class="o">],</span>
      <span class="o">),</span>
    <span class="o">),</span>
</code></pre></div></div>

<p>ì°¸ê³ ë¡œ <code class="language-plaintext highlighter-rouge">Material</code>ë¡œ <code class="language-plaintext highlighter-rouge">Container</code>ë¥¼ ê°ì‹¸ì£¼ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ <code class="language-plaintext highlighter-rouge">Container</code>ë§Œ ë„˜ê²¨ì£¼ë©´ ë‹¹ì—°íˆ <strong>ë‘ ë²ˆì§¸ ìœ„ì ¯ì˜ <code class="language-plaintext highlighter-rouge">FlexibleSpaceBar</code>ì˜ ìì‹ Container ë†’ì´ì™€ ë‹¤ë¥´ê²Œ return</strong> ëœë‹¤. ì´ê±´ ë„ˆë¬´ ë‹¹ì—°í•œê°€?</p>
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Visibility</span><span class="o">(</span>
    <span class="n">Material</span><span class="o">(</span>
        <span class="n">child</span> <span class="o">:</span> <span class="n">Container</span><span class="err">ï¼ˆ</span><span class="o">...)</span>
    <span class="o">)</span>
<span class="o">)</span>
</code></pre></div></div>

<p>ë‹¤ì†Œ ì§€ì €ë¶„í•˜ì§€ë§Œ <strong>ë†’ì´</strong>ë¥¼ êµ¬í•˜ëŠ” ì½”ë“œì´ë‹¤. <code class="language-plaintext highlighter-rouge">GlobalKey</code>ë“¤ì´ êµ¬í•´ì§€ëŠ”ëŒ€ë¡œ ë°”ë¡œ ê·¸ ê°’ ìì²´ë¥¼ ë”í•´ì„œ <code class="language-plaintext highlighter-rouge">dynamicTotalHeight</code>ìœ¼ë¡œ return í•˜ë©´ ì‚¬ìš©ì ê²½í—˜ì´ ì •ë§ ì¢‹ì§€ ì•Šì•„ì§„ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ <strong>ë°°ì—´</strong>ì— ë‹´ì•„ì„œ returnâ€¦</p>
<div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">double</span> <span class="n">_dynamicTotalHeight</span><span class="o">;</span>
<span class="n">List</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">_childWidgetHeights</span> <span class="o">=</span> <span class="n">List</span><span class="o">();</span>

<span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">initState</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="o">();</span>
    <span class="n">WidgetsBinding</span><span class="o">.</span><span class="na">instance</span><span class="o">.</span><span class="na">addPostFrameCallback</span><span class="o">(</span><span class="n">_getDynamicTotalHeight</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kt">double</span> <span class="n">_getChildWidgetHeight</span><span class="o">(</span><span class="n">GlobalKey</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">RenderBox</span> <span class="n">renderBox</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="na">currentContext</span><span class="o">.</span><span class="na">findRenderObject</span><span class="o">();</span>
    <span class="n">print</span><span class="o">(</span><span class="n">renderBox</span><span class="o">.</span><span class="na">size</span><span class="o">.</span><span class="na">height</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">renderBox</span><span class="o">.</span><span class="na">size</span><span class="o">.</span><span class="na">height</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="n">_getDynamicTotalHeight</span><span class="o">(</span><span class="n">_</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">_dynamicTotalHeight</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="n">_childWidgetHeights</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">_getChildWidgetHeight</span><span class="o">(</span><span class="n">stickyKey</span><span class="o">));</span>
    <span class="n">_childWidgetHeights</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">_getChildWidgetHeight</span><span class="o">(</span><span class="n">stickyKey2</span><span class="o">));</span>
    <span class="n">_childWidgetHeights</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">_getChildWidgetHeight</span><span class="o">(</span><span class="n">stickyKey3</span><span class="o">));</span>

    <span class="k">for</span> <span class="o">(</span><span class="kt">double</span> <span class="n">height</span> <span class="k">in</span> <span class="n">_childWidgetHeights</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">_dynamicTotalHeight</span> <span class="o">=</span> <span class="n">height</span> <span class="o">+</span> <span class="n">_dynamicTotalHeight</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">_dynamicTotalHeight</span> <span class="o">=</span> <span class="n">_dynamicTotalHeight</span> <span class="o">+</span> <span class="n">kToolbarHeight</span> <span class="o">+</span> <span class="n">Dimens</span><span class="o">.</span><span class="na">gap_dp20</span><span class="o">;</span>

    <span class="k">return</span> <span class="n">_dynamicTotalHeight</span><span class="o">;</span>
  <span class="o">}</span>
</code></pre></div></div>

<h4 id="ì°¸ê³ ">ì°¸ê³ </h4>
<p><a href="https://gist.github.com/jjjlyn/82bc323c23682d9581d83f6861db2cc5" target="_blank" rel="noopener" style="">[ì „ì²´ì½”ë“œ ë³´ê¸°]</a></p>
:ET